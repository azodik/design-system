import { Select, Card, CardContent } from '@azodik/ui';
import { PropsTable, CodeBlock, CodeBlockWithPreview } from '../components/docs';
import { ComponentRenderer } from '../components/docs/ComponentRenderer';
import { useState } from 'react';

export const ControlledSelectExample = () => {
  const [selectedCountry, setSelectedCountry] = useState('');

  const handleChange = (e) => {
    setSelectedCountry(e.target.value);
  };

  const options = [
    { value: '', label: 'Select a country' },
    { value: 'us', label: 'United States' },
    { value: 'uk', label: 'United Kingdom' },
    { value: 'ca', label: 'Canada' },
    { value: 'au', label: 'Australia' }
  ];

  return (
    <div>
      <Select
        label="Country"
        value={selectedCountry}
        onChange={handleChange}
        options={options}
      />
      <p className="text-sm text-gray-500 mt-1">
        Selected: {selectedCountry || 'None'}
      </p>
    </div>
  );
};

export const ValidatedSelectExample = () => {
  const [selectedCountry, setSelectedCountry] = useState('');
  const [error, setError] = useState('');

  const handleChange = (e) => {
    setSelectedCountry(e.target.value);
    if (e.target.value) {
      setError('');
    }
  };

  const handleBlur = () => {
    if (!selectedCountry) {
      setError('Please select a country');
    }
  };

  const options = [
    { value: '', label: 'Select a country' },
    { value: 'us', label: 'United States' },
    { value: 'uk', label: 'United Kingdom' },
    { value: 'ca', label: 'Canada' },
    { value: 'au', label: 'Australia' }
  ];

  return (
    <div>
      <Select
        label="Country *"
        value={selectedCountry}
        onChange={handleChange}
        onBlur={handleBlur}
        error={error}
        options={options}
      />
      {error && <p className="text-sm text-red-500 mt-1">{error}</p>}
    </div>
  );
};

export const GroupedSelectExample = () => {
  const options = [
    { value: '', label: 'Select a category' },
    { value: 'laptops', label: 'Laptops' },
    { value: 'phones', label: 'Phones' },
    { value: 'tablets', label: 'Tablets' },
    { value: 'shirts', label: 'Shirts' },
    { value: 'pants', label: 'Pants' },
    { value: 'shoes', label: 'Shoes' },
    { value: 'furniture', label: 'Furniture' },
    { value: 'appliances', label: 'Appliances' },
    { value: 'decor', label: 'Decor' }
  ];

  return (
    <div>
      <Select
        label="Category"
        options={options}
      />
    </div>
  );
};

export const SizedSelectExample = () => {
  const options = [
    { value: '', label: 'Select an option' },
    { value: '1', label: 'Option 1' },
    { value: '2', label: 'Option 2' }
  ];

  return (
    <div className="space-y-4">
      <div>
        <Select
          label="Small Select"
          size="sm"
          options={options}
        />
      </div>
      
      <div>
        <Select
          label="Medium Select"
          size="md"
          options={options}
        />
      </div>
      
      <div>
        <Select
          label="Large Select"
          size="lg"
          options={options}
        />
      </div>
    </div>
  );
};

# Select Component

The Select component provides dropdown selection menus for choosing from predefined options. It's perfect for forms that require users to select from a list of choices.

## Overview

Select components allow users to choose from a predefined list of options. They provide a clean interface for selection and help maintain data consistency in forms.

### When to use
- Choosing from a list of predefined options
- Form fields with limited choices
- Country, state, or category selection
- Settings and configuration options
- Filtering and sorting options

### When not to use
- For text input (use Input instead)
- When you need to search through options (use Combobox)
- For binary choices (use Checkbox or Radio)
- When you have very few options (use Radio buttons)

## Usage

<CodeBlock language="tsx">
{`import { Select } from '@azodik/ui';`}
</CodeBlock>

## Variants

<ComponentRenderer componentName="select" />

## Some Variants Example

<CodeBlockWithPreview 
  title="All Select Variants"
  preview={
    <div className="space-y-4">
      <div>
        <Select
          label="Country"
          options={[
            { value: '', label: 'Select a country' },
            { value: 'us', label: 'United States' },
            { value: 'uk', label: 'United Kingdom' },
            { value: 'ca', label: 'Canada' }
          ]}
        />
      </div>
    </div>
  }
>
{`import { Select } from '@azodik/ui';

export const SelectExamples = () => {
  return (
    <div className="space-y-4">
      <div>
        <label htmlFor="country">Country</label>
        <Select id="country">
          <option value="">Select a country</option>
          <option value="us">United States</option>
          <option value="uk">United Kingdom</option>
          <option value="ca">Canada</option>
          <option value="au">Australia</option>
        </Select>
      </div>
    </div>
  );
};`}
</CodeBlockWithPreview>

## Basic Usage

<CodeBlockWithPreview 
  title="Basic Select"
  preview={
    <div>
      <Select
        label="Country"
        options={[
          { value: '', label: 'Select a country' },
          { value: 'us', label: 'United States' },
          { value: 'uk', label: 'United Kingdom' },
          { value: 'ca', label: 'Canada' }
        ]}
      />
    </div>
  }
>
{`import { Select } from '@azodik/ui';

export const SelectExample = () => {
  return (
    <div>
      <label htmlFor="country">Country</label>
      <Select
        label="Country"
        options={[
          { value: '', label: 'Select a country' },
          { value: 'us', label: 'United States' },
          { value: 'uk', label: 'United Kingdom' },
          { value: 'ca', label: 'Canada' },
          { value: 'au', label: 'Australia' }
        ]}
      />
    </div>
  );
};`}
</CodeBlockWithPreview>

## With Controlled Value

<CodeBlockWithPreview 
  title="Controlled Select"
  preview={<ControlledSelectExample />}
>
{`import { Select } from '@azodik/ui';
import { useState } from 'react';

export const ControlledSelectExample = () => {
  const [selectedCountry, setSelectedCountry] = useState('');

  const handleChange = (e) => {
    setSelectedCountry(e.target.value);
  };

  return (
    <div>
      <label htmlFor="country">Country</label>
      <Select
        id="country"
        value={selectedCountry}
        onChange={handleChange}
      >
        <option value="">Select a country</option>
        <option value="us">United States</option>
        <option value="uk">United Kingdom</option>
        <option value="ca">Canada</option>
        <option value="au">Australia</option>
      </Select>
      <p className="text-sm text-gray-500 mt-1">
        Selected: {selectedCountry || 'None'}
      </p>
    </div>
  );
}`}
</CodeBlockWithPreview>

## With Validation

<CodeBlockWithPreview 
  title="Select with Validation"
  preview={<ValidatedSelectExample />}
>
{`import { Select } from '@azodik/ui';
import { useState } from 'react';

export const ValidatedSelectExample = () => {
  const [selectedCountry, setSelectedCountry] = useState('');
  const [error, setError] = useState('');

  const handleChange = (e) => {
    setSelectedCountry(e.target.value);
    if (e.target.value) {
      setError('');
    }
  };

  const handleBlur = () => {
    if (!selectedCountry) {
      setError('Please select a country');
    }
  };

  return (
    <div>
      <label htmlFor="country">Country *</label>
      <Select
        id="country"
        value={selectedCountry}
        onChange={handleChange}
        onBlur={handleBlur}
        error={error}
      >
        <option value="">Select a country</option>
        <option value="us">United States</option>
        <option value="uk">United Kingdom</option>
        <option value="ca">Canada</option>
        <option value="au">Australia</option>
      </Select>
    </div>
  );
}`}
</CodeBlockWithPreview>

## With Option Groups

<CodeBlockWithPreview 
  title="Select with Option Groups"
  preview={<GroupedSelectExample />}
>
{`import { Select } from '@azodik/ui';

export const GroupedSelectExample = () => {
  return (
    <div>
      <label htmlFor="category">Category</label>
      <Select
        label="Category"
        options={[
          { value: '', label: 'Select a category' },
          { value: 'laptops', label: 'Laptops' },
          { value: 'phones', label: 'Phones' },
          { value: 'tablets', label: 'Tablets' },
          { value: 'shirts', label: 'Shirts' },
          { value: 'pants', label: 'Pants' },
          { value: 'shoes', label: 'Shoes' },
          { value: 'furniture', label: 'Furniture' },
          { value: 'appliances', label: 'Appliances' },
          { value: 'decor', label: 'Decor' }
        ]}
      />
    </div>
  );
}`}
</CodeBlockWithPreview>

## With Different Sizes

<CodeBlockWithPreview 
  title="Select Sizes"
  preview={<SizedSelectExample />}
>
{`import { Select } from '@azodik/ui';

export const SelectSizesExample = () => {
  return (
    <div className="space-y-4">
      <div>
        <label htmlFor="small">Small Select</label>
        <Select
          label="Small Select"
          size="sm"
          options={[
            { value: '', label: 'Small' },
            { value: '1', label: 'Option 1' },
            { value: '2', label: 'Option 2' }
          ]}
        />
      </div>
      
      <div>
        <label htmlFor="medium">Medium Select</label>
        <Select
          label="Medium Select"
          size="md"
          options={[
            { value: '', label: 'Medium' },
            { value: '1', label: 'Option 1' },
            { value: '2', label: 'Option 2' }
          ]}
        />
      </div>
      
      <div>
        <label htmlFor="large">Large Select</label>
        <Select
          label="Large Select"
          size="lg"
          options={[
            { value: '', label: 'Large' },
            { value: '1', label: 'Option 1' },
            { value: '2', label: 'Option 2' }
          ]}
        />
      </div>
    </div>
  );
}`}
</CodeBlockWithPreview>

## Props

<PropsTable props={[
  {
    name: 'value',
    type: 'string',
    required: false,
    description: 'Controlled select value'
  },
  {
    name: 'onChange',
    type: '(e: ChangeEvent<HTMLSelectElement>) => void',
    required: false,
    description: 'Change event handler'
  },
  {
    name: 'onBlur',
    type: '(e: FocusEvent<HTMLSelectElement>) => void',
    required: false,
    description: 'Blur event handler'
  },
  {
    name: 'size',
    type: '"sm" | "md" | "lg"',
    required: false,
    description: 'Size of the select'
  },
  {
    name: 'disabled',
    type: 'boolean',
    required: false,
    description: 'Whether the select is disabled'
  },
  {
    name: 'error',
    type: 'string',
    required: false,
    description: 'Error message to display'
  },
  {
    name: 'multiple',
    type: 'boolean',
    required: false,
    description: 'Whether multiple options can be selected'
  },
  {
    name: 'children',
    type: 'React.ReactNode',
    required: false,
    description: 'Option elements'
  },
  {
    name: 'className',
    type: 'string',
    required: false,
    description: 'Additional CSS classes to apply'
  }
]} />

## Accessibility

- Selects have proper labels and associations
- Error messages are announced to screen readers
- Keyboard navigation is supported
- Focus management is handled correctly
- Color contrast meets WCAG guidelines

## Design Guidelines

- Always provide clear labels
- Use descriptive option text
- Group related options together
- Provide a default placeholder option
- Ensure sufficient touch targets on mobile
