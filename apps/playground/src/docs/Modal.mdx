import { Modal, ModalHeader, ModalFooter, Button, Card, CardContent, Input } from '@azodik/ui';
import { PropsTable, CodeBlock, CodeBlockWithPreview } from '../components/docs';
import { ComponentRenderer } from '../components/docs/ComponentRenderer';
import ComponentNavigation from '../components/docs/ComponentNavigation';
import { ModalPreview, FormModalExample, ModalHeaderExample } from '../components/view-components/ModalPreview';

# Modal Component

The Modal component provides overlay dialogs for displaying important information, forms, or interactive content that requires user attention.

## Overview

Modals are overlay components that appear above the main content to display important information or collect user input. They help focus user attention on specific tasks.

### When to use
- Display important information or confirmations
- Show forms that need focused attention
- Display detailed content without navigation
- Confirm destructive actions
- Show image galleries or media

## Usage

<CodeBlock language="tsx">
{`import { Modal } from '@azodik/ui';`}
</CodeBlock>

## Variants

<ComponentRenderer componentName="modal" />

## Some Example With Form

<CodeBlockWithPreview 
  title="Modal with Form"
  preview={
    <div className="space-y-4">
      <FormModalExample />
    </div>
  }
>
{`import { Modal, ModalFooter, Button, Input } from '@azodik/ui';
import { useState } from 'react';

export const FormModalExample = () => {
  const [isOpen, setIsOpen] = useState(false);
  const [formData, setFormData] = useState({ name: '', email: '' });

  const handleSubmit = (e) => {
    e.preventDefault();
    // Handle form submission
    setIsOpen(false);
  };

  return (
    <>
      <Button onClick={() => setIsOpen(true)}>
        Add User
      </Button>
      
      <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>
        <div className="modal-content">
          <div className="modal-header">
            <h2>Add New User</h2>
          </div>
          <form onSubmit={handleSubmit} className="p-6 space-y-4">
            <div>
              <label htmlFor="name">Name</label>
              <Input 
                id="name"
                value={formData.name}
                onChange={(e) => setFormData({...formData, name: e.target.value})}
              />
            </div>
            <div>
              <label htmlFor="email">Email</label>
              <Input 
                id="email-preview"
                type="email"
                value={formData.email}
                onChange={(e) => setFormData({...formData, email: e.target.value})}
              />
            </div>
            <div className="flex justify-end gap-2">
              <Button variant="outline" onClick={() => setIsOpen(false)}>
                Cancel
              </Button>
              <Button type="submit">
                Add User
              </Button>
            </div>
          </form>
        </div>
      </Modal>
    </>
  );
}`}
</CodeBlockWithPreview>

## ModalHeader Component

The ModalHeader component provides a consistent header structure for modals with optional close button.

<CodeBlockWithPreview 
  title="ModalHeader Usage"
  preview={
    <div className="space-y-4">
      <ModalHeaderExample />
    </div>
  }
>
{`import { Modal, ModalHeader, Button } from '@azodik/ui';

export const ModalHeaderExample = () => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>
      <ModalHeader onClose={() => setIsOpen(false)}>
        <h2 className="modal-title">Custom Header</h2>
      </ModalHeader>
      <div className="p-6">
        <p>Modal content goes here.</p>
      </div>
    </Modal>
  );
};`}
</CodeBlockWithPreview>

## Props

<PropsTable props={[
  {
    name: 'isOpen',
    type: 'boolean',
    required: true,
    default: '-',
    description: 'Whether the modal is open'
  },
  {
    name: 'onClose',
    type: '() => void',
    required: true,
    default: '-',
    description: 'Function called when modal should close'
  },
  {
    name: 'title',
    type: 'string',
    required: false,
    default: '-',
    description: 'Title text for the modal (creates header if no ModalHeader provided)'
  },
  {
    name: 'children',
    type: 'React.ReactNode',
    required: true,
    default: '-',
    description: 'Content to display inside the modal'
  },
  {
    name: 'size',
    type: '"sm" | "md" | "lg" | "xl"',
    required: false,
    default: '"md"',
    description: 'Size of the modal'
  },
  {
    name: 'showCloseButton',
    type: 'boolean',
    required: false,
    default: 'true',
    description: 'Whether to show the close button in the header'
  },
  {
    name: 'closeOnOverlayClick',
    type: 'boolean',
    required: false,
    default: 'true',
    description: 'Whether clicking overlay closes modal'
  },
  {
    name: 'closeOnEscape',
    type: 'boolean',
    required: false,
    default: 'true',
    description: 'Whether pressing Escape closes modal'
  },
  {
    name: 'className',
    type: 'string',
    required: false,
    default: '""',
    description: 'Additional CSS classes to apply'
  }
]} />

## ModalHeader Props

<PropsTable props={[
  {
    name: 'children',
    type: 'React.ReactNode',
    required: true,
    default: '-',
    description: 'Content to display in the header'
  },
  {
    name: 'showCloseButton',
    type: 'boolean',
    required: false,
    default: 'true',
    description: 'Whether to show the close button'
  },
  {
    name: 'onClose',
    type: '() => void',
    required: false,
    default: '-',
    description: 'Function called when close button is clicked'
  },
  {
    name: 'className',
    type: 'string',
    required: false,
    default: '""',
    description: 'Additional CSS classes to apply'
  }
]} />

## ModalFooter Props

<PropsTable props={[
  {
    name: 'children',
    type: 'React.ReactNode',
    required: true,
    default: '-',
    description: 'Content to display in the footer'
  },
  {
    name: 'className',
    type: 'string',
    required: false,
    default: '""',
    description: 'Additional CSS classes to apply'
  }
]} />

## Accessibility

- Modals trap focus within the dialog
- Screen readers announce modal content
- Escape key closes the modal
- Focus returns to trigger element when closed
- Proper ARIA attributes are applied

## Design Guidelines

- Use modals sparingly to avoid overwhelming users
- Provide clear close actions
- Keep modal content focused and concise
- Use appropriate sizing for content
- Consider mobile responsiveness

<ComponentNavigation />
